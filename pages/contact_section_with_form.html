<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact - Advocate Shivam Jivani</title>
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="bg-off-white">
    <!-- Navigation -->
    <nav class="bg-primary shadow-lg fixed w-full top-0 z-50">
        <div class="container-custom">
            <div class="flex justify-between items-center py-4">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-accent rounded-full flex items-center justify-center">
                        <i class="fas fa-balance-scale text-primary text-lg"></i>
                    </div>
                    <div>
                        <h1 class="text-white font-serif text-xl font-bold">Advocate Shivam Jivani</h1>
                        <p class="text-accent text-sm">Legal Excellence</p>
                    </div>
                </div>
                
                <!-- Desktop Navigation -->
                <div class="hidden md:flex items-center space-x-8">
                    <a href="homepage_with_hero_section.html" class="text-white hover:text-accent transition-colors duration-300">Home</a>
                    <a href="about_section_with_timeline.html" class="text-white hover:text-accent transition-colors duration-300">About</a>
                    <a href="practice_areas_section.html" class="text-white hover:text-accent transition-colors duration-300">Practice Areas</a>
                    <a href="contact_section_with_form.html" class="text-accent font-medium" aria-current="page">Contact</a>
                </div>
                
                <!-- Mobile Menu Button -->
                <button class="md:hidden text-white hover:text-accent transition-colors duration-300" id="mobile-menu-btn">
                    <i class="fas fa-bars text-xl"></i>
                </button>
            </div>
            
            <!-- Mobile Navigation -->
            <div class="md:hidden hidden" id="mobile-menu">
                <div class="py-4 space-y-4 border-t border-primary-light">
                    <a href="homepage_with_hero_section.html" class="block text-white hover:text-accent transition-colors duration-300 py-2">Home</a>
                    <a href="about_section_with_timeline.html" class="block text-white hover:text-accent transition-colors duration-300 py-2">About</a>
                    <a href="practice_areas_section.html" class="block text-white hover:text-accent transition-colors duration-300 py-2">Practice Areas</a>
                    <a href="contact_section_with_form.html" class="block text-accent font-medium py-2" aria-current="page">Contact</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Contact Section -->
    <section class="section-padding mt-20 relative overflow-hidden">
        <!-- Background Watermark -->
        <div class="absolute inset-0 flex items-center justify-center pointer-events-none">
            <i class="fas fa-balance-scale text-light-gray text-opacity-5" style="font-size: 40rem;"></i>
        </div>
        
        <div class="container-custom relative z-10">
            <div class="text-center mb-16">
                <h2 class="text-heading-1 text-primary mb-6">Get In Touch</h2>
                <p class="text-body-large text-dark-gray max-w-2xl mx-auto">
                    Ready to discuss your legal needs? Contact us today for a consultation. 
                    We're here to provide expert legal guidance and representation.
                </p>
            </div>

            <div class="grid lg:grid-cols-2 gap-16 items-start">
                <!-- Contact Information -->
                <div class="space-y-8">
                    <div class="bg-white rounded-xl shadow-medium p-8">
                        <h3 class="text-heading-3 text-primary mb-6">Contact Information</h3>
                        
                        <div class="space-y-6">
                            <!-- Phone -->
                            <div class="flex items-center space-x-4 group">
                                <div class="w-12 h-12 bg-accent bg-opacity-10 rounded-lg flex items-center justify-center group-hover:bg-accent group-hover:bg-opacity-20 transition-all duration-300">
                                    <i class="fas fa-phone text-accent text-lg"></i>
                                </div>
                                <div>
                                    <p class="text-body-small text-medium-gray">Phone</p>
                                    <a href="tel:+919876543210" class="text-body text-primary hover:text-accent transition-colors duration-300 font-medium">
                                        +91 70699 84696
                                    </a>
                                </div>
                            </div>
                            
                            <!-- Email -->
                            <div class="flex items-center space-x-4 group">
                                <div class="w-12 h-12 bg-accent bg-opacity-10 rounded-lg flex items-center justify-center group-hover:bg-accent group-hover:bg-opacity-20 transition-all duration-300">
                                    <i class="fas fa-envelope text-accent text-lg"></i>
                                </div>
                                <div>
                                    <p class="text-body-small text-medium-gray">Email</p>
                                    <a href="mailto:shivamjivani2018@gmail.com" class="text-body text-primary hover:text-accent transition-colors duration-300 font-medium">
                                        shivamjivani2018@gmail.com
                                    </a>
                                </div>
                            </div>
                            
                            <!-- Location -->
                            <div class="flex items-center space-x-4 group">
                                <div class="w-12 h-12 bg-accent bg-opacity-10 rounded-lg flex items-center justify-center group-hover:bg-accent group-hover:bg-opacity-20 transition-all duration-300">
                                    <i class="fas fa-map-marker-alt text-accent text-lg"></i>
                                </div>
                                <div>
                                    <p class="text-body-small text-medium-gray">Office</p>
                                    <a href="https://maps.app.goo.gl/cU9r5KnzB6QzEguHA" 
                                       target="_blank" 
                                       class="text-body text-primary hover:text-accent transition-colors duration-300 font-medium">
                                        Shiv Associates, 115, Nidhi Complex, Opp. Varachha Chopati, Varachha Main Road, Surat 395006
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Office Hours -->
                    <div class="bg-white rounded-xl shadow-medium p-8">
                        <h3 class="text-heading-3 text-primary mb-6">Office Hours</h3>
                        <div class="space-y-3">
                            <div class="flex justify-between items-center">
                                <span class="text-body text-dark-gray">Monday - Friday</span>
                                <span class="text-body font-medium text-primary">4:00 AM - 8:00 PM</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-body text-dark-gray">Saturday</span>
                                <span class="text-body font-medium text-primary">9:00 AM - 8:00 PM</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-body text-dark-gray">Sunday</span>
                                <span class="text-body font-medium text-secondary">9:00 AM - 2:00 PM</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Contact Form -->
                <div class="bg-white rounded-xl shadow-medium p-8">
                    <h3 class="text-heading-3 text-primary mb-6">Send us a Message</h3>
                    
                    <form id="contact-form" class="space-y-6" novalidate>
                        <!-- Name Field -->
                        <div>
                            <label for="name" class="block text-body-small font-medium text-dark-gray mb-2">
                                Full Name <span class="text-secondary">*</span>
                            </label>
                            <input type="text" 
                                   id="name" 
                                   name="name" 
                                   required
                                   class="input-field text-base"
                                   placeholder="Enter your full name"
                                   aria-describedby="name-error">
                            <div id="name-error" class="text-body-small text-secondary mt-1 hidden" role="alert"></div>
                            <div id="name-success" class="text-body-small text-success mt-1 hidden flex items-center">
                                <i class="fas fa-check-circle mr-1"></i> Valid
                            </div>
                        </div>

                        <!-- Email Field -->
                        <div>
                            <label for="email" class="block text-body-small font-medium text-dark-gray mb-2">
                                Email Address <span class="text-secondary">*</span>
                            </label>
                            <input type="email" 
                                   id="email" 
                                   name="email" 
                                   required
                                   class="input-field text-base"
                                   placeholder="Enter your email address"
                                   aria-describedby="email-error">
                            <div id="email-error" class="text-body-small text-secondary mt-1 hidden" role="alert"></div>
                            <div id="email-success" class="text-body-small text-success mt-1 hidden flex items-center">
                                <i class="fas fa-check-circle mr-1"></i> Valid
                            </div>
                        </div>

                        <!-- Phone Field -->
                        <div>
                            <label for="phone" class="block text-body-small font-medium text-dark-gray mb-2">
                                Phone Number
                            </label>
                            <input type="tel" 
                                   id="phone" 
                                   name="phone"
                                   class="input-field text-base"
                                   placeholder="Enter your phone number"
                                   aria-describedby="phone-error">
                            <div id="phone-error" class="text-body-small text-secondary mt-1 hidden" role="alert"></div>
                            <div id="phone-success" class="text-body-small text-success mt-1 hidden flex items-center">
                                <i class="fas fa-check-circle mr-1"></i> Valid
                            </div>
                        </div>

                        <!-- Case Type Dropdown -->
                        <div>
                            <label for="case-type" class="block text-body-small font-medium text-dark-gray mb-2">
                                Case Type
                            </label>
                            <select id="case-type" 
                                    name="case-type"
                                    class="input-field text-base"
                                    aria-describedby="case-type-error">
                                <option value="">Select a practice area</option>
                                <option value="criminal-law">Criminal Law</option>
                                <option value="civil-litigation">Civil Litigation</option>
                                <option value="corporate-law">Corporate Law</option>
                                <option value="family-law">Family Law</option>
                                <option value="property-law">Property Law</option>
                                <option value="immigration-law">Immigration Law</option>
                            </select>
                            <div id="case-type-error" class="text-body-small text-secondary mt-1 hidden" role="alert"></div>
                            <div id="case-type-success" class="text-body-small text-success mt-1 hidden flex items-center">
                                <i class="fas fa-check-circle mr-1"></i> Valid
                            </div>
                        </div>

                        <!-- Message Field -->
                        <div>
                            <label for="message" class="block text-body-small font-medium text-dark-gray mb-2">
                                Message <span class="text-secondary">*</span>
                            </label>
                            <textarea id="message" 
                                      name="message" 
                                      required
                                      rows="5"
                                      minlength="20"
                                      class="input-field text-base resize-none"
                                      placeholder="Please describe your legal matter (minimum 20 characters)"
                                      aria-describedby="message-error message-count"></textarea>
                            <div class="flex justify-between items-center mt-1">
                                <div id="message-error" class="text-body-small text-secondary hidden" role="alert"></div>
                                <div id="message-count" class="text-body-small text-medium-gray">0/20 characters</div>
                            </div>
                            <div id="message-success" class="text-body-small text-success mt-1 hidden flex items-center">
                                <i class="fas fa-check-circle mr-1"></i> Valid
                            </div>
                        </div>

                        <!-- Submit Button -->
                        <button type="submit" 
                                id="submit-btn"
                                class="w-full bg-primary text-white px-6 py-4 rounded-lg font-medium text-base transition-all duration-200 hover:bg-accent hover:text-black focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed">
                            <span id="submit-text">Send Message</span>
                            <span id="submit-loading" class="hidden flex items-center justify-center">
                                <i class="fas fa-spinner fa-spin mr-2"></i>
                                Sending...
                            </span>
                        </button>
                    </form>

                    <!-- Success Message -->
                    <div id="success-message" class="hidden mt-6 p-4 bg-success bg-opacity-10 border border-success border-opacity-20 rounded-lg">
                        <div class="flex items-center text-success">
                            <i class="fas fa-check-circle text-xl mr-3"></i>
                            <div>
                                <h4 class="font-medium">Message Sent Successfully!</h4>
                                <p class="text-body-small mt-1">Thank you for contacting us. We'll get back to you within 24 hours.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Error Message -->
                    <div id="error-message" class="hidden mt-6 p-4 bg-error bg-opacity-10 border border-error border-opacity-20 rounded-lg">
                        <div class="flex items-center justify-between text-error">
                            <div class="flex items-center">
                                <i class="fas fa-exclamation-circle text-xl mr-3"></i>
                                <div>
                                    <h4 class="font-medium">Failed to Send Message</h4>
                                    <p class="text-body-small mt-1">Please check your connection and try again.</p>
                                </div>
                            </div>
                            <button id="retry-btn" class="text-error hover:text-error font-medium underline">
                                Retry
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-primary text-white py-12">
        <div class="container-custom">
            <div class="text-center">
                <div class="flex items-center justify-center space-x-3 mb-4">
                    <div class="w-8 h-8 bg-accent rounded-full flex items-center justify-center">
                        <i class="fas fa-balance-scale text-primary text-sm"></i>
                    </div>
                    <h3 class="text-xl font-serif font-bold">Advocate Shivam Jivani</h3>
                </div>
                <p class="text-medium-gray mb-6">Committed to Justice, Dedicated to Excellence</p>
                 <div class="flex justify-center space-x-6 mb-6">
                    <a href="tel:+917069984696" class="text-accent hover:text-white transition-colors duration-300">
                        <i class="fas fa-phone"></i>
                    </a>
                    <a href="mailto:shivamjivani2018@gmail.com" class="text-accent hover:text-white transition-colors duration-300">
                        <i class="fas fa-envelope"></i>
                    </a>
                    <a href="https://maps.app.goo.gl/cU9r5KnzB6QzEguHA" target="_blank" class="text-accent hover:text-white transition-colors duration-300">
                        <i class="fas fa-map-marker-alt"></i>
                    </a>
                </div>
                <p class="text-body-small text-medium-gray">
                    © 2025 Advocate Shivam Jivani. All Rights Reserved.
                </p>
            </div>
        </div>
    </footer>

    <!-- Add these script tags before the closing </body> tag -->
    <script src="../js/email-service.js"></script>
    <script src="../js/whatsapp-service.js"></script>
    <script src="../js/form-submission-handler.js"></script>
    <script>
        // Mobile menu toggle
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');

        mobileMenuBtn.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });

        // Initialize form submission handler
        const submissionHandler = new FormSubmissionHandler();

        // Form validation and submission
        const form = document.getElementById('contact-form');
        const submitBtn = document.getElementById('submit-btn');
        const submitText = document.getElementById('submit-text');
        const submitLoading = document.getElementById('submit-loading');
        const successMessage = document.getElementById('success-message');
        const errorMessage = document.getElementById('error-message');
        const retryBtn = document.getElementById('retry-btn');

        // Form fields
        const nameField = document.getElementById('name');
        const emailField = document.getElementById('email');
        const phoneField = document.getElementById('phone');
        const caseTypeField = document.getElementById('case-type');
        const messageField = document.getElementById('message');
        const messageCount = document.getElementById('message-count');

        // Validation functions
        function validateName(value) {
            if (!value.trim()) {
                return 'Name is required';
            }
            if (value.trim().length < 2) {
                return 'Name must be at least 2 characters';
            }
            return null;
        }

        function validateEmail(value) {
            if (!value.trim()) {
                return 'Email is required';
            }
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(value)) {
                return 'Please enter a valid email address';
            }
            return null;
        }

        function validatePhone(value) {
            if (value.trim() && !/^\+?[\d\s\-\(\)]{10,}$/.test(value)) {
                return 'Please enter a valid phone number';
            }
            return null;
        }

        function validateMessage(value) {
            if (!value.trim()) {
                return 'Message is required';
            }
            if (value.trim().length < 20) {
                return 'Message must be at least 20 characters';
            }
            return null;
        }

        // Show validation state
        function showValidationState(field, error, success) {
            const errorElement = document.getElementById(`${field.id}-error`);
            const successElement = document.getElementById(`${field.id}-success`);
            
            if (error) {
                field.classList.add('border-secondary');
                field.classList.remove('border-success');
                errorElement.textContent = error;
                errorElement.classList.remove('hidden');
                successElement.classList.add('hidden');
            } else if (field.value.trim()) {
                field.classList.add('border-success');
                field.classList.remove('border-secondary');
                errorElement.classList.add('hidden');
                successElement.classList.remove('hidden');
            } else {
                field.classList.remove('border-secondary', 'border-success');
                errorElement.classList.add('hidden');
                successElement.classList.add('hidden');
            }
        }

        // Real-time validation
        nameField.addEventListener('input', () => {
            const error = validateName(nameField.value);
            showValidationState(nameField, error);
        });

        emailField.addEventListener('input', () => {
            const error = validateEmail(emailField.value);
            showValidationState(emailField, error);
        });

        phoneField.addEventListener('input', () => {
            const error = validatePhone(phoneField.value);
            showValidationState(phoneField, error);
        });

        caseTypeField.addEventListener('change', () => {
            showValidationState(caseTypeField, null);
        });

        messageField.addEventListener('input', () => {
            const value = messageField.value;
            messageCount.textContent = `${value.length}/20 characters`;
            
            const error = validateMessage(value);
            showValidationState(messageField, error);
        });

        // Form submission with direct email and WhatsApp integration
        form.addEventListener('submit', async (e) => {
            e.preventDefault();
            
            // Validate all fields
            const nameError = validateName(nameField.value);
            const emailError = validateEmail(emailField.value);
            const phoneError = validatePhone(phoneField.value);
            const messageError = validateMessage(messageField.value);
            
            showValidationState(nameField, nameError);
            showValidationState(emailField, emailError);
            showValidationState(phoneField, phoneError);
            showValidationState(messageField, messageError);
            
            if (nameError || emailError || phoneError || messageError) {
                return;
            }
            
            // Show loading state
            submitBtn.disabled = true;
            submitText.classList.add('hidden');
            submitLoading.classList.remove('hidden');
            successMessage.classList.add('hidden');
            errorMessage.classList.add('hidden');
            
            try {
                // Prepare form data
                const formData = {
                    name: nameField.value.trim(),
                    email: emailField.value.trim(),
                    phone: phoneField.value.trim(),
                    caseType: caseTypeField.value,
                    message: messageField.value.trim()
                };
                
                // Submit through our handler
                const result = await submissionHandler.handleSubmission(formData);
                
                // Show success message briefly before redirect
                submitText.classList.remove('hidden');
                submitLoading.classList.add('hidden');
                successMessage.classList.remove('hidden');
                
                // Update success message with delivery status
                const successContent = successMessage.querySelector('p');
                successContent.textContent = result.message;
                
                // Redirect to confirmation screen after a short delay
                setTimeout(() => {
                    window.location.href = `form_submission_confirmation_screen.html?data=${encodeURIComponent(JSON.stringify(result.data))}`;
                }, 2000);
                
            } catch (error) {
                console.error('Submission failed:', error);
                
                // Show error
                submitText.classList.remove('hidden');
                submitLoading.classList.add('hidden');
                errorMessage.classList.remove('hidden');
                
                // Update error message
                const errorContent = errorMessage.querySelector('p');
                errorContent.textContent = error.message || 'Failed to send inquiry. Please try again or contact directly.';
                
            } finally {
                submitBtn.disabled = false;
            }
        });

        // Retry functionality
        retryBtn.addEventListener('click', () => {
            form.dispatchEvent(new Event('submit'));
        });

        // Smooth scroll for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Log submission handler status for debugging
        console.log('Direct submission system initialized');
        console.log('Submission handler status:', submissionHandler.getSubmissionStatus());
    </script>
<script id="dhws-dataInjector" src="../public/dhws-data-injector.js"></script>
<script id="dhws-elementInspector" src="../public/dhws-web-inspector.js"></script>
<script id="dhws-errorTracker" src="../public/dhws-error-tracker.js"></script>
</body>
</html>